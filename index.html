<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@fingerprintjs/url-matcher</title><meta name="description" content="Documentation for @fingerprintjs/url-matcher"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@fingerprintjs/url-matcher</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@fingerprintjs/url-matcher</h1></div><div class="tsd-panel tsd-typography"><p align="center">
  <a href="https://fingerprint.com">
    <picture>
     <source media="(prefers-color-scheme: dark)" srcset="https://fingerprintjs.github.io/home/resources/logo_light.svg" />
     <source media="(prefers-color-scheme: light)" srcset="https://fingerprintjs.github.io/home/resources/logo_dark.svg" />
     <img src="https://fingerprintjs.github.io/home/resources/logo_dark.svg" alt="Fingerprint logo" width="312px" />
   </picture>
  </a>
</p>
<p align="center">
  <a href="https://github.com/fingerprintjs/url-matcher/actions/workflows/build.yml"><img src="https://github.com/fingerprintjs/url-matcher/actions/workflows/build.yml/badge.svg" alt="Build status"></a>
  <a href="https://fingerprintjs.github.io/url-matcher/coverage/"><img src="https://fingerprintjs.github.io/url-matcher/coverage/badges.svg" alt="coverage"></a>
  <a href="https://github.com/fingerprintjs/url-matcher/actions/workflows/release.yml"><img src="https://github.com/fingerprintjs/url-matcher/actions/workflows/release.yml/badge.svg" alt="Release status"></a>
  <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/:license-mit-blue.svg" alt="MIT license"></a>
  <a href="https://fingerprintjs.github.io/url-matcher/docs/"><img src="https://img.shields.io/badge/-Documentation-green" alt="Documentation"></a>
</p>
<blockquote>
<p>‚ö†Ô∏è <strong>Work in progress</strong>: This is a beta version of the library.</p>
</blockquote>
<p>URL matching library that is equivalent to the matching behavior Cloudflare uses
for <a href="https://developers.cloudflare.com/workers/configuration/routing/routes/#matching-behavior">worker routes</a>.
It's designed to work both in browser and in Node.js.</p>
<blockquote>
<p><strong>Note</strong>: This repository isn‚Äôt part of our core product. It‚Äôs kindly shared ‚Äúas-is‚Äù without any guaranteed level of support from Fingerprint. We warmly welcome community contributions.</p>
</blockquote>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Using <a href="https://npmjs.org">npm</a>:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@fingerprintjs/url-matcher</span>
</code><button type="button">Copy</button></pre>

<p>Using <a href="https://yarnpkg.com">yarn</a>:</p>
<pre><code class="sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@fingerprintjs/url-matcher</span>
</code><button type="button">Copy</button></pre>

<p>Using <a href="https://pnpm.js.org">pnpm</a>:</p>
<pre><code class="sh"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@fingerprintjs/url-matcher</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="basic-pattern-matching" class="tsd-anchor-link">Basic Pattern Matching<a href="#basic-pattern-matching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The simplest way to use the library is with the <code>matchesPatterns</code> function, which takes an array of URL patterns and
checks if a given URL matches any of them:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">matchesPatterns</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@fingerprintjs/url-matcher&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">patterns</span><span class="hl-1"> = [</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;example.com/api/*&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;*.example.com/users/*&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;https://app.example.com/dashboard&#39;</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">url</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://api.example.com/users/123&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-0">matchesPatterns</span><span class="hl-1">(</span><span class="hl-4">url</span><span class="hl-1">, </span><span class="hl-4">patterns</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;URL matches one of the patterns!&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="advanced-route-matching" class="tsd-anchor-link">Advanced Route Matching<a href="#advanced-route-matching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For more control, use <code>parseRoutes</code> and <code>findMatchingRoute</code> to work with parsed route objects:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">parseRoutes</span><span class="hl-1">, </span><span class="hl-4">findMatchingRoute</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@fingerprintjs/url-matcher&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">routes</span><span class="hl-1"> = </span><span class="hl-0">parseRoutes</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;example.com/api/*&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;*.example.com/users/*&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;https://app.example.com/dashboard&#39;</span><br/><span class="hl-1">])</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">url</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://api.example.com/users/123&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">matchedRoute</span><span class="hl-1"> = </span><span class="hl-0">findMatchingRoute</span><span class="hl-1">(</span><span class="hl-4">url</span><span class="hl-1">, </span><span class="hl-4">routes</span><span class="hl-1">)</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">matchedRoute</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Matched route: </span><span class="hl-5">${</span><span class="hl-4">matchedRoute</span><span class="hl-7">.</span><span class="hl-4">route</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Hostname: </span><span class="hl-5">${</span><span class="hl-4">matchedRoute</span><span class="hl-7">.</span><span class="hl-4">hostname</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Path: </span><span class="hl-5">${</span><span class="hl-4">matchedRoute</span><span class="hl-7">.</span><span class="hl-4">path</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="working-with-route-metadata" class="tsd-anchor-link">Working with Route Metadata<a href="#working-with-route-metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can associate metadata with routes for easier handling of the matched route:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">parseRoutes</span><span class="hl-1">, </span><span class="hl-4">findMatchingRoute</span><span class="hl-1">, </span><span class="hl-4">RouteWithMetadata</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@fingerprintjs/url-matcher&#39;</span><br/><br/><span class="hl-8">// Include metadata that contains a specific route type that we need to match.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">routesWithTypes</span><span class="hl-1">: </span><span class="hl-9">RouteWithMetadata</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-4">type</span><span class="hl-1">: </span><span class="hl-2">&#39;public&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;admin&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;api&#39;</span><br/><span class="hl-1">}&gt;[] = [</span><br/><span class="hl-1">    {</span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;example.com/api/*&#39;</span><span class="hl-1">, </span><span class="hl-4">metadata:</span><span class="hl-1"> {</span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;api&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">    {</span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;example.com/admin/*&#39;</span><span class="hl-1">, </span><span class="hl-4">metadata:</span><span class="hl-1"> {</span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;admin&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">    {</span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;example.com/*&#39;</span><span class="hl-1">, </span><span class="hl-4">metadata:</span><span class="hl-1"> {</span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;public&#39;</span><span class="hl-1">}}</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">routes</span><span class="hl-1"> = </span><span class="hl-0">parseRoutes</span><span class="hl-1">(</span><span class="hl-4">routesWithTypes</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">url</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/api/users&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">matchedRoute</span><span class="hl-1"> = </span><span class="hl-0">findMatchingRoute</span><span class="hl-1">(</span><span class="hl-4">url</span><span class="hl-1">, </span><span class="hl-4">routes</span><span class="hl-1">)</span><br/><br/><span class="hl-8">// matchedRoute.metadata is of type {type: &#39;api&#39;} | {type: &#39;admin&#39;} | {type: &#39;public&#39;}</span><br/><span class="hl-3">switch</span><span class="hl-1"> (</span><span class="hl-4">matchedRoute</span><span class="hl-1">?.</span><span class="hl-4">metadata</span><span class="hl-1">?.</span><span class="hl-4">type</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> </span><span class="hl-2">&#39;api&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Handle API request&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-3">break</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> </span><span class="hl-2">&#39;admin&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Handle admin request&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-3">break</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> </span><span class="hl-2">&#39;public&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Handle public request&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-3">break</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="sorting-by-specificity" class="tsd-anchor-link">Sorting by Specificity<a href="#sorting-by-specificity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Routes can be sorted by specificity to ensure more specific patterns are matched first:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">parseRoutes</span><span class="hl-1">, </span><span class="hl-4">findMatchingRoute</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@fingerprintjs/url-matcher&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">routes</span><span class="hl-1"> = </span><span class="hl-0">parseRoutes</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;example.com/*&#39;</span><span class="hl-1">,           </span><span class="hl-8">// Less specific</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;example.com/api/*&#39;</span><span class="hl-1">,       </span><span class="hl-8">// More specific</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;example.com/api/users&#39;</span><span class="hl-1">    </span><span class="hl-8">// Most specific</span><br/><span class="hl-1">], {</span><span class="hl-4">sortBySpecificity:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">})</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">url</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/api/users&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">matchedRoute</span><span class="hl-1"> = </span><span class="hl-0">findMatchingRoute</span><span class="hl-1">(</span><span class="hl-4">url</span><span class="hl-1">, </span><span class="hl-4">routes</span><span class="hl-1">)</span><br/><br/><span class="hl-8">// Will match the most specific route: &#39;example.com/api/users&#39;</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">matchedRoute</span><span class="hl-1">?.</span><span class="hl-4">route</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="wildcard-patterns" class="tsd-anchor-link">Wildcard Patterns<a href="#wildcard-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library supports Cloudflare-style wildcards:</p>
<ul>
<li>
<p><strong>Hostname wildcards</strong>: Use <code>*</code> as a subdomain prefix</p>
<pre><code class="typescript"><span class="hl-2">&#39;*.example.com&#39;</span><span class="hl-1">     </span><span class="hl-8">// Matches sub.example.com, api.example.com, etc.</span><br/><span class="hl-2">&#39;*&#39;</span><span class="hl-1">                 </span><span class="hl-8">// Matches any hostname</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Path wildcards</strong>: Use <code>*</code> as a path suffix</p>
<pre><code class="typescript"><span class="hl-2">&#39;example.com/api/*&#39;</span><span class="hl-1">    </span><span class="hl-8">// Matches /api/users, /api/posts/123, etc.</span><br/><span class="hl-2">&#39;example.com/*&#39;</span><span class="hl-1">        </span><span class="hl-8">// Matches any path on example.com</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<blockquote>
<p>‚ö†Ô∏è Infix wildcards are not supported. Passing them will throw an <code>InvalidPatternError</code></p>
</blockquote>
<h3 id="protocol-matching" class="tsd-anchor-link">Protocol Matching<a href="#protocol-matching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Specify protocols explicitly or let routes match any protocol:</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">routes</span><span class="hl-1"> = </span><span class="hl-0">parseRoutes</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;https://secure.example.com/*&#39;</span><span class="hl-1">,  </span><span class="hl-8">// Only HTTPS</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;http://legacy.example.com/*&#39;</span><span class="hl-1">,   </span><span class="hl-8">// Only HTTP</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;example.com/*&#39;</span><span class="hl-1">                  </span><span class="hl-8">// Any protocol (HTTP or HTTPS)</span><br/><span class="hl-1">])</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>üí° Only HTTP and HTTPS protocols are supported.</p>
</blockquote>
<h3 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library validates URLs and patterns, throwing specific errors for invalid inputs:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">matchesPatterns</span><span class="hl-1">, </span><span class="hl-4">InvalidProtocolError</span><span class="hl-1">, </span><span class="hl-4">InvalidPatternError</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@fingerprintjs/url-matcher&#39;</span><br/><br/><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">url</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;ftp://example.com&#39;</span><span class="hl-1">)  </span><span class="hl-8">// Invalid protocol</span><br/><span class="hl-1">    </span><span class="hl-0">matchesPatterns</span><span class="hl-1">(</span><span class="hl-4">url</span><span class="hl-1">, [</span><span class="hl-2">&#39;example.com&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-9">InvalidProtocolError</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Only HTTP and HTTPS protocols are supported&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Invalid pattern with query string</span><br/><span class="hl-1">    </span><span class="hl-0">matchesPatterns</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com&#39;</span><span class="hl-1">), [</span><span class="hl-2">&#39;example.com/path?query=value&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-9">InvalidPatternError</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">code</span><span class="hl-1">) </span><span class="hl-8">// ERR_QUERY_STRING</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Query strings are not allowed in patterns&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Invalid pattern with infix wildcard</span><br/><span class="hl-1">    </span><span class="hl-0">matchesPatterns</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com&#39;</span><span class="hl-1">), [</span><span class="hl-2">&#39;example.com/*/path&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-9">InvalidPatternError</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">code</span><span class="hl-1">) </span><span class="hl-8">// ERR_INFIX_WILDCARD</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Infix wildcards are not allowed in patterns&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Invalid pattern URL</span><br/><span class="hl-1">    </span><span class="hl-0">matchesPatterns</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com&#39;</span><span class="hl-1">), [</span><span class="hl-2">&#39;exa mple.com/*/path&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-9">InvalidPatternError</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">code</span><span class="hl-1">) </span><span class="hl-8">// ERR_INVALID_URL</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Patterns must be valid URLs&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See the full <a href="https://fingerprintjs.github.io/url-matcher/">generated API reference</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation"><span>Installation</span></a><a href="#usage"><span>Usage</span></a><ul><li><a href="#basic-pattern-matching"><span>Basic <wbr/>Pattern <wbr/>Matching</span></a></li><li><a href="#advanced-route-matching"><span>Advanced <wbr/>Route <wbr/>Matching</span></a></li><li><a href="#working-with-route-metadata"><span>Working with <wbr/>Route <wbr/>Metadata</span></a></li><li><a href="#sorting-by-specificity"><span>Sorting by <wbr/>Specificity</span></a></li><li><a href="#wildcard-patterns"><span>Wildcard <wbr/>Patterns</span></a></li><li><a href="#protocol-matching"><span>Protocol <wbr/>Matching</span></a></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li></ul><a href="#api-reference"><span>API <wbr/>Reference</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@fingerprintjs/url-matcher</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
